<!DOCTYPE html>

<html lang="en">
    <head>

        <!-- set the metadata -->
        <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">

        <!-- set the title -->
        <title>Diagnosis & Prediction Tool</title>

        <!-- link to reset.css -->
        <link rel="stylesheet" href="/static/css/reset.css">

        <!-- link to bootstrap css -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
            crossorigin="anonymous">

        <!-- link to style.css -->
        <link rel="stylesheet" href="/static/css/style.css">
    </head>

    <body class="bg-light">

        <!-- header -->
        <div class="container-fullwidth">
            <div class="col-md-12">
                <nav class="navbar navbar-expand-lg navbar-dark bg-dark px-3">
                    <div class="container-fluid">
                        <a class="navbar-brand" href="/">Home</a>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDarkDropdown" aria-controls="navbarNavDarkDropdown" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse justify-content-end" id="navbarNavDarkDropdown">
                            <ul class="navbar-nav ms-auto">
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        Diagnoses
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end">
                                        <li><a class="dropdown-item" href="/diagnose_diseases_from_symptoms">Disease From Symptoms</a></li>
                                    </ul>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        Model Development
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end">
                                        <li><a class="dropdown-item" href="/model_disease_predictor">Disease Predictor</a></li>
                                    </ul>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        About
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end">
                                        <li><a class="dropdown-item" href="/about_developers">The Developers</a></li>
                                        <li><a class="dropdown-item" href="/about_data">The Data</a></li>
                                        <li><a class="dropdown-item" href="/about_accreditations">Accreditations</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
        </div>

        <!-- body -->
        <div class="container my-3">
            <div class="row">
                <div class="col-md-12">
                   
                    <!-- title -->
                    <h4>Classification Models</h4>
                    <p class="fst-normal">
                        We evaluated 5 different types of classification models before we chose the model to be used for the predictor.
                    </p>
                    <div class="accordion" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                    <h4>KNN: Logistic Regression Friendly Neighbor </h4>
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                                <div class="accordion-body">
                                    <div class="card rounded">
                                        <p class="fst-normal">
                                            After looping through a range of odd k values to calculate the score we found that the training and testing scores were 100%. 
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="accordion" id="accordionExample">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingTwo">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                        <h4>Naive Bayes</h4>
                                    </button>
                                </h2>
                                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                                    <div class="accordion-body">
                                        <div class="card rounded">    
                                            <p class="fst-normal">
                                                After performing The training and testing sets were both 100% or close to it. Based on this alone we were unsure if our model was being over trained. 
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion" id="accordionExample">
                                <div class="accordion-item">
                                    <h2 class="accordion-header" id="headingThree">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                            <h4> Decision Tree</h4>
                                        </button>
                                    </h2>
                                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                                        <div class="accordion-body">
                                            <div class="card rounded">   
                                                <p class="fst-normal">
                        
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="accordion" id="accordionExample">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="headingFour">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                                <h4>Support Vector Machine (SVM)</h4>
                                            </button>
                                        </h2>
                                        <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
                                            <div class="accordion-body">
                                                <div class="card rounded">      
                                                    <p class="fst-normal">
                                                        SVM in its simplest form is a binary classifcation model. For multiclass classification, there are two decision function
                                                        shapes (One-vs-rest and One-vs-One).  In one-vs-rest (default for scikit-learn), each class is distiguished from the rest of 
                                                        the datapoints one at a time.  In one-vs-one, the data is broken down into multiple binary classifications.

                                                        Addtionally, there are four different kernal functions.
                                                    </p>
                                                    <ol>
                                                        <li>Linear <br> <img class="img-fluid mx-auto rounded" alt="Linear" src=""> </li>
                                                        <li>Polynomial <br> <img class="img-fluid mx-auto rounded" alt="Linear" src=""></li>
                                                        <li>Radial Basis Function (RBF) <br> <img class="img-fluid mx-auto rounded" alt="Linear" src=""></li>
                                                        <li>Sigmoid <br> <img class="img-fluid mx-auto rounded" alt="Linear" src=""></li>
                                                    </ol>

                                                    <table>
                                                        <tr> 
                                                            <th>Kernal</th>
                                                            <th>Decision Shape</th>
                                                            <th>Accuracy</th>
                                                        </tr>
                                                        <tr> 
                                                            <td>Linear</td>
                                                            <td>OvO</td>
                                                            <td>100%</td>
                                                        </tr>
                                                        <tr> 
                                                            <td>Linear</td>
                                                            <td>OvR</td>
                                                            <td>100%</td>
                                                        </tr>
                                                        <tr> 
                                                            <td>Polynomial</td>
                                                            <td>OvO</td>
                                                            <td>100%</td>
                                                        </tr>
                                                        <tr> 
                                                            <td>Polynomial</td>
                                                            <td>OvR</td>
                                                            <td>96.7%</td>
                                                        </tr>
                                                        <tr> 
                                                            <td>RBF</td>
                                                            <td>OvO</td>
                                                            <td>96.7%</td>
                                                        </tr>
                                                        <tr> 
                                                            <td>RBF</td>
                                                            <td>OvR</td>
                                                            <td>100%</td>
                                                        </tr>
                                                        <tr> 
                                                            <td>Sigmoid</td>
                                                            <td>OvO</td>
                                                            <td>100%</td>
                                                        </tr>
                                                        <tr> 
                                                            <td>Sigmoid</td>
                                                            <td>OvR</td>
                                                            <td>100%</td>
                                                        </tr>
                                                    </table>
                                                    <p class="fst-normal">
                                                        Being that the results for nearly all of the kernals and decision functions was 100%, we are not confident that there is not over fitting of the models.
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                 <div class="accordion" id="accordionExample">
                                    <div class="accordion-item">
                                        <h2 class="accordion-header" id="headingFive">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                                <h4>Random Forest</h4>
                                               </button>
                                         </h2>
                                        <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#accordionExample">
                                            <div class="accordion-body">
                                                <div class="card rounded">
                                                    <p class="fst-normal">
                                                        The first round of testing after scaling the dataset and training the model resulted in 100% accuracy with both the training and testing data.  
                                                        After noting that all of the other models were giving the same results, we modified the values for the max depth (maximum number of levels
                                                        we would allow the model to go to) and the number of estimators (branches). This analysis allowed us to evaluate if our model was being overfit; 
                                                        if our data was not lending itself to classification; or give us confidence that our model was really 100% accurate.
                                                    </p>
                                                    <table>
                                                        <tr> 
                                                            <th>Max Depth</th>
                                                            <th>Estimators</th>
                                                            <th>Training Accuracy</th>
                                                            <th>Testing Accuracy</th>
                                                        </tr>
                                                        <tr> 
                                                            <td>5</td>
                                                                <td>500</td>
                                                                <td>100%</td>
                                                                <td>100%</td>
                                                        </tr>
                                                            <tr> 
                                                                <td>5</td>
                                                                <td>400</td>
                                                                <td>100%</td>
                                                                <td>T100%</td>
                                                            </tr>
                                                            <tr> 
                                                                <td>5</th>
                                                                <td>300</td>
                                                                <td>100%</td>
                                                                <td>100%</td>
                                                            </tr>
                                                            <tr> 
                                                                <td>5</th>
                                                                <td>200</td>
                                                                <td>99.73%</td>
                                                                <td>99.84%</td>
                                                            </tr>
                                                            <tr> 
                                                                <td>4</td>
                                                                <td>300</td>
                                                                <td>99.76%</td>
                                                                <td>99.76%</td>
                                                            </tr>
                                                            <tr> 
                                                                <td>3</td>
                                                                <td>100</td>
                                                                <td>95.99%</td>
                                                                <td>96.42%</td>
                                                            </tr>
                                                            <tr> 
                                                                <td>2</td>
                                                                <td>200</td>
                                                                <td>96.18%</td>
                                                                <td>96.34%</td>
                                                            </tr>
                                                        </table>
                                                        <br>
                                                        <p class="fst-normal">

                                                            As shown in the table, we were able to see that with a lower number of levels to our tree and branches in the forest; we saw
                                                            a lower accuracy rate.  Additionally, the testing and training accuracy remained close in all cases.  We interpret this as proving
                                                            that our data was highly suited to training a classification model for the 41 specific diseases and 131 symptoms it contained.
                                                            <br><br>
                                                            This gave us the confidence in our data and the Random Forest Classification model to move foward and select the Random Forest Classsifier (Base = 5, Estimators = 300) for our predictions.
                                                        </p>
                                                        <br>
                                                        <h5>Branch of Our Random Forest Classification Model</h5>
                                                        <img title="Branch of Random Forest" class="img-fluid mx-auto rounded" alt="randomForest_branch" src="https://github.com/Mreisinger1/diagnosis-prediction-tool/blob/main/Classification%20Models/RF/RandomForest_Visualization2.png?raw=true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
            </div>
        </div>

        <!-- import bootstrap js library -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
                crossorigin="anonymous"></script>
    </body>
</html>